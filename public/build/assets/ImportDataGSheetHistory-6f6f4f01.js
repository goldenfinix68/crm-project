import{r as i,B as f,_ as p,K as g,J as t,M as h,a2 as E,N as o,bk as C,a5 as w,L as y,aa as R,ab as _}from"./app-ce05daca.js";import{a as S,I as k}from"./ImportDataGSheetHeader-fe0b0329.js";import{T as s}from"./TextEllipsis-4875159e.js";var D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"};const v=D;var I=function(l,r){return i.createElement(f,p({},l,{ref:r,icon:v}))};const M=i.forwardRef(I),B=()=>{const{data:n,isLoading:l,refetch:r}=S(),u=g(_,{onSuccess:a=>{y.invalidateQueries("gSheetCrawlResults"),R.success("Re-crawling queued.")}}),d=[{title:"Google Sheet Id",key:"gSheetId",render:(a,e)=>t.createElement("div",{className:"p-xs"},t.createElement(s,null,e.gSheetId))},{title:"Initiated By",key:"initiated_by",render:(a,e)=>t.createElement(s,null,e.initiatedBy)},{title:"Row Count",key:"row_count",render:(a,e)=>t.createElement(s,null,e.rowCount)},{title:"Processed",key:"sucess_imported",render:(a,e)=>{const c=()=>{if(e.status=="Queued"||e.status=="Failed")return"0";if(e.status=="Completed")return e.processed;if(e.status=="Running")return e.importedCount};return t.createElement(s,null,c())}},{title:"Status",key:"status",render:(a,e)=>t.createElement(s,null,e.status)},{title:"Created",key:"created_at",render:(a,e)=>{const m=w.utc(e.created_at,"YYYY-MM-DD HH:mm:ss").clone().local();return t.createElement(s,null,m.format("MMM DD, YYYY hh:mm A"))}},{title:"Action",key:"action",render:(a,e)=>e.status=="Completed"||e.status=="Failed"?t.createElement(o,{type:"default",size:"small",onClick:()=>{u.mutate({url:"/api/gSheet-crawl-results/recrawl",data:{id:e.id}})}},"Re-crawl"):t.createElement(t.Fragment,null)}];return t.createElement(h,{direction:"vertical",className:"w-100"},t.createElement(k,null),t.createElement(E,{className:"w-100"},t.createElement(o,{type:"default",size:"small",style:{float:"right"},onClick:()=>{r()},icon:t.createElement(M,null)},"Refresh"),t.createElement(C,{className:"default-table-row-height p-t-md",columns:d,dataSource:n,loading:l})))};export{B as default};
