import{K as d,J as t,M as p,a2 as f,N as r,bk as h,a5 as E,L as g,aa as y,ab as w}from"./app-aa7df66f.js";import{a as C,I as S}from"./ImportDataGSheetHeader-c3a68c5a.js";import{T as s}from"./TextEllipsis-6138124f.js";import{R as _}from"./RedoOutlined-6881b8e1.js";const I=()=>{const{data:n,isLoading:c,refetch:i}=C(),o=d(w,{onSuccess:a=>{g.invalidateQueries("gSheetCrawlResults"),y.success("Re-crawling queued.")}}),u=[{title:"Google Sheet Id",key:"gSheetId",render:(a,e)=>t.createElement("div",{className:"p-xs"},t.createElement(s,null,e.gSheetId))},{title:"Initiated By",key:"initiated_by",render:(a,e)=>t.createElement(s,null,e.initiatedBy)},{title:"Row Count",key:"row_count",render:(a,e)=>t.createElement(s,null,e.rowCount)},{title:"Processed",key:"sucess_imported",render:(a,e)=>{const l=()=>{if(e.status=="Queued"||e.status=="Failed")return"0";if(e.status=="Completed")return e.processed;if(e.status=="Running")return e.importedCount};return t.createElement(s,null,l())}},{title:"Status",key:"status",render:(a,e)=>t.createElement(s,null,e.status)},{title:"Created",key:"created_at",render:(a,e)=>{const m=E.utc(e.created_at,"YYYY-MM-DD HH:mm:ss").clone().local();return t.createElement(s,null,m.format("MMM DD, YYYY hh:mm A"))}},{title:"Action",key:"action",render:(a,e)=>e.status=="Completed"||e.status=="Failed"?t.createElement(r,{type:"default",size:"small",onClick:()=>{o.mutate({url:"/api/gSheet-crawl-results/recrawl",data:{id:e.id}})}},"Re-crawl"):t.createElement(t.Fragment,null)}];return t.createElement(p,{direction:"vertical",className:"w-100"},t.createElement(S,null),t.createElement(f,{className:"w-100"},t.createElement(r,{type:"default",size:"small",style:{float:"right"},onClick:()=>{i()},icon:t.createElement(_,null)},"Refresh"),t.createElement(h,{className:"default-table-row-height p-t-md",columns:u,dataSource:n,loading:c})))};export{I as default};
