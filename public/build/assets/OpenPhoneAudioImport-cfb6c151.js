import{r as n,J as e,I as b,ak as k,a2 as N,$ as r,N as p,a4 as I,a8 as T,A as w,P as x,aa as f}from"./app-b904ae97.js";import{U as C}from"./index-f935bc1c.js";import{I as S}from"./InboxOutlined-d3a1b1d5.js";import"./Upload-64eb00a9.js";import"./DeleteOutlined-5e89f9de.js";const{Dragger:M}=C,v=()=>{n.useEffect(()=>(document.title="Manual Audio Import - SpeedLead",()=>{}),[]);const[_,c]=e.useState(0);b.useForm(),k();const[A,h]=n.useState([]),[E,l]=n.useState(!1),g={name:"file",multiple:!0,customRequest(o){const{onSuccess:i,onError:m,file:s,onProgress:u}=o,d=new FormData,y={headers:{"content-type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("access_token")}`},onUploadProgress:t=>{const a=Math.floor(t.loaded/t.total*100);c(a),a===100&&setTimeout(()=>c(0),1e3),u!==void 0&&u({percent:t.loaded/t.total*100})}};d.append("audio",s),console.log(s);try{x.post("/api/openphone/upload",d,y).then(a=>{console.log(a.data),i&&a.data.success?(i("Ok"),f.success(`${s.name} file uploaded successfully to ${a.data.contactName}.`)):f.error(a.data.message)})}catch(t){console.log("Eroor: ",t),m&&m(t)}},onChange:o=>{console.log(o.fileList),h(o.fileList)},accept:".mp3"};return e.createElement(N,{className:"w-100"},e.createElement(r.Title,{level:3},"Manual Audio Import"),e.createElement(r,{className:"m-b-sm"},"Now, you can import audio files and automatically attached it with the contact base on the file name."),e.createElement(p,{type:"link",className:"p-0",onClick:()=>l(!0)},"Learn more about manual audio import."),e.createElement(I,null),e.createElement(M,{...g},e.createElement("p",{className:"ant-upload-drag-icon"},e.createElement(S,null)),e.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload"),e.createElement("p",{className:"ant-upload-hint"},"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files")),e.createElement(T,{className:"modal-activity",open:E,onCancel:()=>{l(!1)},footer:null,title:null,closable:!1,width:"500px"},e.createElement("div",{className:"modal-header"},e.createElement(r.Title,{level:5,style:{color:"white"}},"Instruction"),e.createElement(p,{onClick:()=>{l(!1)},style:{backgroundColor:"rgba(0, 0, 0, 0.5)",border:"0px"},icon:e.createElement(w,{style:{color:"white"}})})),e.createElement("ol",{className:"p-t-xl"},e.createElement("li",null,"Ensure that the file name follows the correct format:",e.createElement("ul",null,e.createElement("li",null,"Format: yyyy-mm-ddThh_mm_ss+00_00contact number"),e.createElement("li",null,"Example: 2024-03-24T19_56_16+00_0019876543210.mp3"))),e.createElement("li",null,"Make sure that the date and time in file name is in UTC timezone."),e.createElement("li",null,"The system will automatically attach the call recording to the contact's history within their profile. This ensures that the recording is seamlessly integrated into the contact's interaction log for easy access and reference."))))};export{v as default};
